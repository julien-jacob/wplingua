jQuery(document).ready(function(r){function g(e){e.height(0),e.height(e[0].scrollHeight)}var e=r("#wplng_meta_box_translation textarea");e.off("keyup.textarea").on("keyup.textarea",function(){g(r(this))}),r(window).resize(function(){e.each(function(){g(r(this))})}),e.each(function(){g(r(this))}),r('.wplng-edit-language .wplng-mark-as-reviewed input[type="checkbox"]').change(function(){var e=r("#wplng-translation-"+r(this).attr("wplng-lang"));e.removeClass("wplng-status-generated"),e.removeClass("wplng-status-reviewed"),e.removeClass("wplng-status-ungenerated"),this.checked?e.addClass("wplng-status-reviewed"):e.addClass("wplng-status-generated")}),r(".wplng-edit-language textarea").each(function(){r("#wplng_mark_as_reviewed_"+r(this).attr("lang")).prop("disabled",""==r(this).val().trim())}),r(".wplng-edit-language textarea").on("keyup paste",function(){var e=r("#wplng-translation-"+r(this).attr("lang")),a=r("#wplng_mark_as_reviewed_"+r(this).attr("lang"));e.removeClass("wplng-status-generated"),e.removeClass("wplng-status-reviewed"),e.removeClass("wplng-status-ungenerated"),""==r(this).val().trim()?(e.addClass("wplng-status-ungenerated"),a.prop("checked",!1),a.prop("disabled",!0)):(e.addClass("wplng-status-reviewed"),a.prop("checked",!0),a.prop("disabled",!1))}),r(".wplng-generate-spin").hide(),r(".wplng-generate").on("click",function(){var e,s,a,l;"disabled"!=r(this).attr("disabled")&&(e=r("#wplng-original-language").attr("wplng-lang"),s=r(this).attr("wplng-lang"),a=r("#wplng-source").html(),null!=e)&&null!=s&&null!=a&&(r((l="#wplng-translation-"+s)+" .wplng-generate").attr("disabled",!0),r(l+" .wplng-generate-spin").show(),r.ajax({url:wplngLocalize.ajaxUrl,method:"POST",data:{action:"wplng_ajax_translation",text:a,language_source:e,language_target:s},success:function(e){var a,n,t;e.success?(r(a="#wplng_translation_"+s).val(e.data),""!=e.data&&(n=r("#wplng-translation-"+s),t=r("#wplng_mark_as_reviewed_"+s),n.removeClass("wplng-status-generated"),n.removeClass("wplng-status-reviewed"),n.removeClass("wplng-status-ungenerated"),n.addClass("wplng-status-reviewed"),t.prop("checked",!0),t.prop("disabled",!1)),g(r(a)),r(l+" .wplng-generate-spin").hide(),setTimeout(function(){r(l+" .wplng-generate").attr("disabled",!1)},8e3)):(console.log("wpLingua - Error:"),console.log(e),r(l+" .wplng-generate-spin").removeClass("dashicons-update").removeClass("wplng-spin").addClass("dashicons-no"))},error:function(e){console.log("wpLingua - Error:"),console.log(e),r(l+" .wplng-generate-spin").removeClass("dashicons-update").removeClass("wplng-spin").addClass("dashicons-no")}}))});let a=!1;jQuery("[type=submit]").click(function(){a=!0}),r(window).on("beforeunload",function(){if(!a)return confirm(wplngLocalize.leaveMessage)})});//# sourceMappingURL=translation.js.map
