
jQuery(document).ready(function($){function wplngResizeTextArea($element){$element.height(0);$element.height($element[0].scrollHeight);}
var $wplngTextArea=$("#wplng_meta_box_translation textarea");$wplngTextArea.off("keyup.textarea").on("keyup.textarea",function(){wplngResizeTextArea($(this));});$(window).resize(function(){$wplngTextArea.each(function(){wplngResizeTextArea($(this));});});$wplngTextArea.each(function(){wplngResizeTextArea($(this));});$(".wplng-generate").on("click",function(){var source=$("#wplng-original-language").attr("wplng-lang");var target=$(this).attr("wplng-lang");var text=$("#wplng-original-language .wplng-source").html();if(undefined==source||undefined==target||undefined==text){return;}
$.ajax({url:adminAjax.ajaxurl,method:'POST',data:{action:'wplng_ajax_translation',text:text,language_source:source,language_target:target},success:function(data){console.log(data);if(data.success){var selector="#wplng_translation_"+target;$(selector).text(data.data);}else{console.log("wpLingua - Error");console.log(data.data);}},error:function(data){console.log("wpLingua - Error");}});});});